(this.webpackJsonpstatus_pages=this.webpackJsonpstatus_pages||[]).push([[0],{250:function(e,t,n){e.exports=n(491)},255:function(e,t,n){},256:function(e,t,n){},280:function(e,t){},282:function(e,t){},307:function(e,t){},309:function(e,t){},331:function(e,t){},491:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(3),o=n.n(c),i=(n(255),n(256),n(493),n(59)),u=n(70),s=n(71),l=n(74),f=n(72),p=n(75),O=n(109),E=n(51),h=(n(163),n(108)),m=(n(492),n(247)),d=(n(165),n(52)),v=n(58),b=(n(166),n(6)),y=n(73),A=n(102),D=n.n(A),S={AZURE_OK:"AZURE_OK",AZURE_FAIL:"AZURE_FAIL",AZURE_INCIDENTS:"AZURE_INCIDENTS",DATADOG_OK:"DATADOG_OK",DATADOG_FAIL:"DATADOG_FAIL",DATADOG_INCIDENTS:"DATADOG_INCIDENTS"},j={CORS_PROXY:"https://cors-anywhere.herokuapp.com/",AZURE_RSS:"https://azurestatuscdn.azureedge.net/en-us/status/feed/",DATADOG_RSS:"https://status.datadoghq.com/history.rss"},g={VIRTUAL_MACHINES:"Virtual Machines",CLOUD_SERVICES:"Cloud Services",AZURE_FUNCTIONS:"Azure Functions"},_={EAST_US:"East US",EAST_US_2:"East US 2",NORTH_EU:"North Europe"},I=function(){return{type:S.AZURE_OK}},w=function(){return{type:S.AZURE_FAIL}},T=function(e){return{type:S.AZURE_INCIDENTS,errorService:e}};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var U=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(f.a)(t).call(this,e))).state={errors:n.props.errors},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAzureStatus(),this.interval=setInterval((function(){return e.reload()}),6e5)}},{key:"reload",value:function(){this.props.fetchAzureStatus()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(e){this.props.errors.length!==e.errors.length&&this.setState({errors:this.props.errors})}},{key:"checkStatus",value:function(e,t){return this.state.errors.find((function(n){return n.service===e&&n.region===t}))?a.a.createElement(b.a,{type:"close-circle",style:{color:"red"}}):a.a.createElement(b.a,{type:"check-circle",style:{color:"green"}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.services,r=t.regions,c=n.map((function(t,n){var a={key:n,service:t};return r.map((function(n,r){return a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,Object(v.a)({},n,e.checkStatus(t,n)))})),a})),o=[{title:"",dataIndex:"service"}];return o=o.concat(r.map((function(e){return{title:e,dataIndex:e}}))),a.a.createElement("div",null,a.a.createElement("h1",null,"AZURE STATUS"),a.a.createElement(h.a,null,a.a.createElement(d.a,{span:3}),a.a.createElement(d.a,{span:18},a.a.createElement(m.a,{columns:o,dataSource:c})),a.a.createElement(d.a,{span:3})))}}]),t}(r.Component),N=Object(y.b)((function(e){return{services:e.azure.services,regions:e.azure.regions,errors:e.azure.errors}}),(function(e){return{fetchAzureStatus:function(){e((function(e){(new D.a).parseURL(j.CORS_PROXY+j.AZURE_RSS,(function(t,n){if(t)throw e(w()),t;if(0===n.items.length)e(I());else{var r=Object.values(g),a=Object.values(_),c=n.items.filter((function(e){return r.find((function(t){return e.title.includes(t)}))}));(c=c.filter((function(e){return a.find((function(t){return e.title.includes(t)}))}))).forEach((function(t){var n=r.filter((function(e){return t.title.includes(e)})),c=a.filter((function(e){var n=new RegExp("\\b"+e+"( \\D)"),r=new RegExp("\\b"+e+"$");return t.title.match(n)||t.title.match(r)}));n.forEach((function(t){c.forEach((function(n){return e(T({service:t,region:n}))}))}))}))}}))}))}}}))(U),P=(n(488),n(162)),k=function(){return{type:S.DATADOG_OK}},C=function(){return{type:S.DATADOG_FAIL}},L=function(e){return{type:S.DATADOG_INCIDENTS,errorService:e}};var Z=n(245),G=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchDatadogStatus(),this.interval=setInterval((function(){return e.reload()}),6e5)}},{key:"reload",value:function(){window.location.reload()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"DATADOG INCIDENTS"),a.a.createElement(h.a,null,a.a.createElement(d.a,{span:7}),a.a.createElement(d.a,{span:10},a.a.createElement("div",null,0===this.props.incidents.length?a.a.createElement("p",null,"Loading..."):a.a.createElement(P.a,{style:{textAlign:"left"}},this.props.incidents.map((function(e,t){return a.a.createElement(P.a.Item,{key:t,dot:a.a.createElement(b.a,{type:"clock-circle-o",style:{fontSize:"1.4em"}})},a.a.createElement("div",{style:{paddingLeft:".5em"}},a.a.createElement("div",{style:{fontSize:"1.3em"}},a.a.createElement("h4",null," ",Z(e.date).format("YYYY-MM-DD")," ",e.title.toUpperCase())),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}})))}))))),a.a.createElement(d.a,{span:7})))}}]),t}(r.Component),z=Object(y.b)((function(e){return{incidents:e.datadog.incidents}}),(function(e){return{fetchDatadogStatus:function(){e((function(e){(new D.a).parseURL(j.CORS_PROXY+j.DATADOG_RSS,(function(t,n){if(t)throw e(C()),t;e(k());var r=n.items.slice(0,5);r.forEach((function(t){e(L({title:t.title,content:t.content,date:t.pubDate}))})),console.log(r)}))}))}}}))(G),F=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(O.a,null,a.a.createElement(i.a,{mode:"horizontal"},a.a.createElement(i.a.Item,null,a.a.createElement(O.b,{to:"/azure"},"AZURE")),a.a.createElement(i.a.Item,null,a.a.createElement(O.b,{to:"/datadog"},"DATADOG"))),a.a.createElement(E.c,null,a.a.createElement(E.a,{path:"/azure"},a.a.createElement(N,null)),a.a.createElement(E.a,{path:"/datadog"},a.a.createElement(z,null))))}}]),t}(r.Component);var K=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(49),X=n(107);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={services:Object.values(g),regions:Object.values(_),errors:[]};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.AZURE_OK:return x({},V);case S.AZURE_FAIL:return x({},e);case S.AZURE_INCIDENTS:return x({},e,{errors:[].concat(Object(X.a)(e.errors),[t.errorService])});default:return e}}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J={incidents:[]};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.DATADOG_OK:return B({},J);case S.DATADOG_FAIL:return B({},e);case S.DATADOG_INCIDENTS:return B({},e,{incidents:[].concat(Object(X.a)(e.incidents),[t.errorService])});default:return e}}var q=function(){return Object(M.c)({azure:W,datadog:$})},Q=n(246),ee=Object(M.e)(q(),Object(M.d)(Object(M.a)(Q.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(a.a.createElement(y.a,{store:ee},a.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[250,1,2]]]);
//# sourceMappingURL=main.0bf392df.chunk.js.map